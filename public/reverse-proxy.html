!> tmpl standard.html markdown.html
$[head]
    <title>Reverse proxy | Kvarn</title>
    <meta name="permalinks" content="enabled"> <!-- part of JS on icelk.dev & kvarn.org, options: disabled|enabled|not-titles -->
    <meta name="description" content="Kvarn reverse proxy details.">
$[dependencies]$[md-imports]$[close-head]$[navigation]
<main><md><p>Kvarn’s reverse proxy implementation allows pass through of web servers’
responses.</p>
<blockquote>
<p>On the git version of Kvarn, URL rewrite is implemented, and automatically
applied.</p>
</blockquote>
<p>It can for instance pass all requests under <code>/api/*</code> to a backend server. It
caches according to the <code>cache-control</code> and
<a href="https://doc.kvarn.org/kvarn/prelude/parse/struct.CacheControl.html#method.from_kvarn_cache_control"><code>kvarn-cache-control</code></a>
headers. <code>/api/search?q=icelk</code> becomes a request to <code>/search?q=icelk</code> on the
backend server.</p>
<p>This implementation is used by me for proxying my self-hosted Bitwarden vault
(using Vaultwarden, of course) to the internet.</p>
<h1 id="usage">Usage</h1>
<p>You start with constructing a
<a href="https://doc.kvarn.org/kvarn_extensions/reverse_proxy/struct.Manager.html">manager</a>.
I recommend using
<a href="https://doc.kvarn.org/kvarn_extensions/reverse_proxy/fn.static_connection.html"><code>static_connection</code></a>
and
<a href="https://doc.kvarn.org/kvarn_extensions/reverse_proxy/fn.localhost.html"><code>localhost</code></a>
and the
<a href="https://doc.kvarn.org/kvarn_extensions/reverse_proxy/struct.Manager.html#method.base"><code>Manager::base</code></a>
constructor.</p>
<p>Consider
<a href="https://doc.kvarn.org/kvarn_extensions/reverse_proxy/struct.Manager.html#method.new"><code>Manager::new</code></a>
for more control.</p>
<p>Then, mount it to your extensions using
<a href="https://doc.kvarn.org/kvarn_extensions/reverse_proxy/struct.Manager.html#method.mount"><code>Manager::mount</code></a>.</p>
</md></main>
$[footer]
