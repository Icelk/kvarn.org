!> tmpl standard.html markdown.html
[head]
    <title>Async | Kvarn</title>
    <meta name="permalinks" content="not-titles"> <!-- part of JS on icelk.dev & kvarn.org, options: disabled|enabled|not-titles -->
    <meta name="description" content="Asynchronous layout in Kvarn.">
[dependencies][md-imports][close-head][navigation]
<main><md><p>Kvarn uses <a href="https://tokio.rs">Tokio</a> as the asynchronous runtime. It’s the same used in <a href="https://deno.land">deno</a>.
Every <a href="/extensions/">extension</a> is asynchronous. This enables parallel execution to requests.</p>
<p>If you need to send a request to your database or read a file, use async APIs. See the <a href="https://docs.rs/tokio/">Tokio docs</a>
for more info.</p>
<p>This uses Rust’s built-in <a href="https://rust-lang.github.io/async-book/01_getting_started/04_async_await_primer.html">async-await syntax</a>.
If you need any library for IO (networking, file system, database connections), there probably exist an async version at <a href="https://crates.io">crates.io</a>.</p>
<p>You can of course also use synchronous APIs, but that blocks other requests, and is therefore strongly discouraged.
Consider using <a href="https://docs.rs/tokio/latest/tokio/task/fn.spawn_blocking.html"><code>spawn_blocking</code></a> instead.</p>
</md></main>
[footer]
